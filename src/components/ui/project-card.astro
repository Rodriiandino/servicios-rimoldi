---
import { Image } from 'astro:assets'

interface Props {
  img: string
  imgAlt: string
  title: string
  description: string
  link: string
}

const { img, imgAlt, title, description, link } = Astro.props
---

<article
  class='group relative flex flex-col gap-3 overflow-hidden shadow-project'
  style='content-visibility:'
>
  <Image
    src={img}
    alt={imgAlt}
    width={270}
    height={270}
    class='w-full h-full object-cover transition-transform duration-300 group-hover:scale-105'
  />
  <div
    class='absolute inset-0 w-full h-full flex flex-col items-start justify-end py-5 px-6 gap-3 invisible opacity-0 group-hover:visible group-hover:opacity-100 transition-all duration-300 overlay'
  >
    <h3>
      <a
        href={link}
        class='hover:underline text-[1.4rem] font-noto text-second-color font-medium tracking-tight max-[350px]:text-[1.2rem]'
        aria-label={'Ir a ' + title + ' para más información'}
      >
        {title}
      </a>
    </h3>
    <p class='text-xs line-clamp-3'>
      {description}
    </p>
    <footer>
      <a
        href={link}
        class='text-second-color hover:underline flex items-center gap-2 focus:outline-offset-4 focus:outline-2 group'
        aria-label={'Ir a ' + title + ' para más información'}
      >
        Más información
        <svg
          xmlns='http://www.w3.org/2000/svg'
          width='24'
          height='24'
          fill='none'
          class='transition-transform group-hover:translate-x-1'
          ><path
            stroke='#F1961C'
            stroke-linecap='round'
            stroke-linejoin='round'
            stroke-width='2'
            d='m9 18 6-6-6-6'></path></svg
        >
      </a>
    </footer>
  </div>
</article>

<style>
  .shadow-project {
    box-shadow: 0px 2px 15px 0px rgba(241, 150, 28, 0.2);
  }

  .overlay {
    background: linear-gradient(
      to top,
      #050505 0%,
      rgba(5, 5, 5, 0.8) 40%,
      rgba(5, 5, 5, 0) 100%
    );
  }
</style>
