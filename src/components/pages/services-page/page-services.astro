---
import PagesHeader from '@components/ui/pages-header.astro'
import ServiceCard from '@components/ui/service-card.astro'
import convertTitleToURL from 'src/utils/convert_title_to_url'
import services from 'src/data/services.json'

const servicesList = services.map((service, index) => {
  const { title, descriptionCard, images } = service
  const img = `https://placehold.co/270x270/png?text=${convertTitleToURL(title)}`
  const link = `/servicio/${convertTitleToURL(title)}`
  const imgAlt = images[0].alt
  return { img, imgAlt, title, descriptionCard, link, index }
})
---

<PagesHeader
  title='Nuestros Servicios'
  subtitle='Ofrecemos soluciones integrales en movimiento de suelos y excavaciones, respaldados por años de experiencia y maquinaria de última generación.'
/>
<div
  class='max-w-max-width px-side mx-auto flex gap-4 flex-row md:gap-6 justify-center md:justify-around py-8 flex-wrap'
>
  {
    servicesList.map(service => (
      <ServiceCard
        title={service.title}
        description={service.descriptionCard}
        img={service.img}
        imgAlt={service.imgAlt}
        link={service.link}
        index={service.index}
      />
    ))
  }
</div>
