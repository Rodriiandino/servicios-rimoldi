---
import MachineCard from '@components/ui/machine-card.astro'
import PagesHeader from '@components/ui/pages-header.astro'
import machines from 'src/data/machines.json'
import { generateList } from 'src/utils/generate-list'
import type { MachineCard as MachineCardType } from 'src/types/cards'

const machinesList = generateList<MachineCardType>(machines, {
  imageSize: '290x290',
  sliceStart: 0,
  sliceEnd: 7
})
const implementsList = generateList<MachineCardType>(machines, {
  imageSize: '290x290',
  sliceStart: 7,
  sliceEnd: 13
})
---

<PagesHeader
  title='Nuestra Flota'
  subtitle='Contamos con maquinaria de última generación, mantenida bajo los más altos estándares de calidad para garantizar eficiencia y seguridad en cada proyecto.'
/>
<div
  class='max-w-max-width px-side mx-auto flex gap-4 flex-row md:gap-6 justify-center md:justify-around py-8 flex-wrap'
>
  {
    machinesList.map(machine => (
      <MachineCard
        title={machine.title}
        description={machine.descriptionCard}
        img={machine.img}
        imgAlt={machine.imgAlt}
        index={machine.index}
      />
    ))
  }
</div>
<div class='max-w-max-width px-side mx-auto pt-20'>
  <header class='flex flex-col items-center'>
    <h3
      class='text-2 sm:text-3 tracking-wide text-center animate-fade-down animate-once animate-ease-in-out'
    >
      IMPLEMENTOS
    </h3>
    <p
      class='text-xs animate-fade animate-once animate-delay-200 animate-ease-in-out text-center'
    >
      También contamos con implementos
    </p>
  </header>
  <div
    class='flex gap-4 flex-row md:gap-6 justify-center md:justify-around py-8 flex-wrap'
  >
    {
      implementsList.map(machine => (
        <MachineCard
          title={machine.title}
          description={machine.descriptionCard}
          img={machine.img}
          imgAlt={machine.imgAlt}
          index={machine.index}
        />
      ))
    }
  </div>
</div>
